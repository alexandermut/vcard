
[1m[46m RUN [49m[22m [36mv4.0.14 [39m[90m/Users/alexandermut/Desktop/kontakte.me[39m

[90mstdout[2m | utils/spatialParser.test.ts[2m > [22m[2mSpatial Parser[2m > [22m[2mshould prioritize Name in Header (Top 30%)
[22m[39m[Spatial] Sorted Lines: [
  [32m'Max Mustermann (10,10)'[39m,
  [32m'Musterfirma GmbH (10,40)'[39m,
  [32m'MusterstraÃŸe 1 (10,800)'[39m,
  [32m'12345 Musterstadt (10,830)'[39m
]
DEBUG consumePhones: Line="Max Mustermann" Found=0
DEBUG consumePhones: Line="Musterfirma GmbH" Found=0
DEBUG consumePhones: Line="MusterstraÃŸe 1" Found=0
DEBUG consumePhones: Line="12345 Musterstadt" Found=1
DEBUG Found Numbers: [{"startsAt":0,"endsAt":5,"number":{"country":"DE","countryCallingCode":"49","nationalNumber":"12345","number":"+4912345"}}]
DEBUG consumeAddress Generic PreZip: ""
DEBUG consumeAddress PUSH: Street="MusterstraÃŸe 1" City="Musterstadt" Zip="12345"
DEBUG consumeNameHeuristic: Set data.fn to "Max Mustermann"
DEBUG FINAL data.fn: "Max Mustermann"

[90mstdout[2m | utils/spatialParser.test.ts[2m > [22m[2mSpatial Parser[2m > [22m[2mshould handle Two-Column Layout (Left: Address, Right: Contact)
[22m[39m[Spatial] Sorted Lines: [
  [32m'Musterfirma (10,10)'[39m,
  [32m'Musterstr. 1 (10,100)'[39m,
  [32m'Tel: 030 123456 (200,100)'[39m,
  [32m'12345 City (10,130)'[39m,
  [32m'Fax: 030 123457 (200,130)'[39m
]
DEBUG consumePhones: Line="Musterfirma" Found=0
DEBUG consumePhones: Line="Musterstr. 1" Found=0
DEBUG consumePhones: Line="Tel: 030 123456" Found=1
DEBUG Found Numbers: [{"startsAt":5,"endsAt":15,"number":{"country":"DE","countryCallingCode":"49","nationalNumber":"30123456","number":"+4930123456"}}]
DEBUG consumePhones: Found +4930123456 (Type: WORK,VOICE)
DEBUG consumePhones: Line="12345 City" Found=1
DEBUG Found Numbers: [{"startsAt":0,"endsAt":5,"number":{"country":"DE","countryCallingCode":"49","nationalNumber":"12345","number":"+4912345"}}]
DEBUG consumePhones: Line="Fax: 030 123457" Found=1
DEBUG Found Numbers: [{"startsAt":5,"endsAt":15,"number":{"country":"DE","countryCallingCode":"49","nationalNumber":"30123457","number":"+4930123457"}}]
DEBUG consumePhones: Found +4930123457 (Type: WORK,VOICE)
DEBUG consumeAddress Generic PreZip: ""
DEBUG consumeAddress PUSH: Street="" City="City" Zip="12345"
DEBUG FINAL data.fn: ""

 [31mâ¯[39m utils/spatialParser.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 13[2mms[22m[39m
     [32mâœ“[39m should prioritize Name in Header (Top 30%)[32m 8[2mms[22m[39m
[31m     [31mÃ—[31m should handle Two-Column Layout (Left: Address, Right: Contact)[39m[32m 5[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 1 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m utils/spatialParser.test.ts[2m > [22mSpatial Parser[2m > [22mshould handle Two-Column Layout (Left: Address, Right: Contact)
[31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

[36m [2mâ¯[22m utils/spatialParser.test.ts:[2m46:75[22m[39m
    [90m 44| [39m
    [90m 45| [39m        [34mexpect[39m(parsed[33m.[39mdata[33m.[39morg)[33m.[39m[34mtoBe[39m([32m"Musterfirma"[39m)[33m;[39m
    [90m 46| [39m        expect(parsed.data.tel?.some(t => t.value.includes("030123456"â€¦
    [90m   | [39m                                                                          [31m^[39m
    [90m 47| [39m        expect(parsed.data.tel?.some(t => t.value.includes("030123457"â€¦
    [90m 48| [39m    })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 17:53:25
[2m   Duration [22m 450ms[2m (transform 128ms, setup 37ms, import 162ms, tests 13ms, environment 176ms)[22m

