
[1m[46m RUN [49m[22m [36mv4.0.14 [39m[90m/Users/alexandermut/Desktop/kontakte.me[39m

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_format_dots
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Dr. Dot Tester
      Tel: 040 123 45 67
      M.0171 99 88 77 6
    
Lines: [ [32m'Dr. Dot Tester'[39m, [32m'Tel: 040 123 45 67'[39m, [32m'M.0171 99 88 77 6'[39m ]
DEBUG consumeNameHeuristic: Set data.fn to "Dr. Dot Tester"
DEBUG FINAL data.fn: "Dr. Dot Tester"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_format_slashes_mixed
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Slashy Mc Slashface
      T: +49 30 / 123 45 - 0
      F: +49 (0) 30 // 123 45 - 99
    
Lines: [
  [32m'Slashy Mc Slashface'[39m,
  [32m'T: +49 30 / 123 45 - 0'[39m,
  [32m'F: +49 (0) 30 // 123 45 - 99'[39m
]
DEBUG consumeNameHeuristic: Set data.fn to "Slashy Mc Slashface"
DEBUG FINAL data.fn: "Slashy Mc Slashface"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_sticky_text
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Kein Platz GmbH
      Kontakt:Tel:+4989123456 Mail:info@keinplatz.de
    
Lines: [ [32m'Kein Platz GmbH'[39m, [32m'Kontakt:Tel:+4989123456 Mail:info@keinplatz.de'[39m ]
DEBUG FINAL data.fn: ""

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_pipe_separator
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Designer Studio
Berlin
      Max Kreativ
Art Director
      +49 171 555 666
m.kreativ@design.studio
www.design.studio
      Holzmarktstr. 25
10243 Berlin
    
Lines: [
  [32m'Designer Studio'[39m,
  [32m'Berlin'[39m,
  [32m'Max Kreativ'[39m,
  [32m'Art Director'[39m,
  [32m'+49 171 555 666'[39m,
  [32m'm.kreativ@design.studio'[39m,
  [32m'www.design.studio'[39m,
  [32m'Holzmarktstr. 25'[39m,
  [32m'10243 Berlin'[39m
]
DEBUG FINAL data.fn: "Max Kreativ"

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_pipe_separator
[22m[39mDEBUG consumeName: { line: [32m'Max Kreativ'[39m, match: [32m'Max'[39m }

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_sticky_text_v2
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Max Mustermann
      MusterstraÃŸe 1
      10115 Berlin
      Tel:030123456
      
Lines: [ [32m'Max Mustermann'[39m, [32m'MusterstraÃŸe 1'[39m, [32m'10115 Berlin'[39m, [32m'Tel:030123456'[39m ]
DEBUG FINAL data.fn: "Max Mustermann"

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_sticky_text_v2
[22m[39mDEBUG consumeName: { line: [32m'Max Mustermann'[39m, match: [32m'Max'[39m }

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_newlines_mess
[22m[39m--- PARSER DEBUG ---
Clean Text:
 Max Mustermann
CEO
Musterfirma
      Musterstr. 1
12345 Musterstadt
      max@muster.de
0171 1234567
Lines: [
  [32m'Max Mustermann'[39m,
  [32m'CEO'[39m,
  [32m'Musterfirma'[39m,
  [32m'Musterstr. 1'[39m,
  [32m'12345 Musterstadt'[39m,
  [32m'max@muster.de'[39m,
  [32m'0171 1234567'[39m
]
DEBUG FINAL data.fn: "Max Mustermann"
DEBUG Test Failure syn_newlines_mess: Expected ADR "Musterstr. 1, 12345 Musterstadt" not found in []

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_newlines_mess
[22m[39mUnknown phone prefix for number: 012345. Assuming Landline.
DEBUG consumeName: { line: [32m'Max Mustermann'[39m, match: [32m'Max'[39m }

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_ocr_l_for_1
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      OCR Victim
      Te I: 040 / 123 456
      Mobi I: 0170 / 555 666
    
Lines: [ [32m'OCR Victim'[39m, [32m'Te I: 040 / 123 456'[39m, [32m'Mobi I: 0170 / 555 666'[39m ]
DEBUG consumeNameHeuristic: Set data.fn to "OCR Victim"
DEBUG FINAL data.fn: "OCR Victim"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_ocr_o_for_0
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Bad Scan AG
      T: 030 / 123456
      M: 0176 / 987654
    
Lines: [ [32m'Bad Scan AG'[39m, [32m'T: 030 / 123456'[39m, [32m'M: 0176 / 987654'[39m ]
DEBUG FINAL data.fn: ""

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_ocr_errors_v2
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Max Mustermann
      Emai 1: max@example.c 0 m
      Tel: 0171 1234567
      
Lines: [ [32m'Max Mustermann'[39m, [32m'Emai 1: max@example.c 0 m'[39m, [32m'Tel: 0171 1234567'[39m ]
DEBUG FINAL data.fn: "Max Mustermann"

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_ocr_errors_v2
[22m[39mDEBUG consumeName: { line: [32m'Max Mustermann'[39m, match: [32m'Max'[39m }

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_typo_labels
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Lisa MÃ¼ller
      Email: lisa@mueller.de
      Telefon: 030 999999
      Webseite: www.mueller.de
      
Lines: [
  [32m'Lisa MÃ¼ller'[39m,
  [32m'Email: lisa@mueller.de'[39m,
  [32m'Telefon: 030 999999'[39m,
  [32m'Webseite: www.mueller.de'[39m
]
DEBUG FINAL data.fn: "Lisa MÃ¼ller"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_ocr_spaces_in_numbers
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Ghost Spacer
      T: + 4 9 ( 0 )40123
    
Lines: [ [32m'Ghost Spacer'[39m, [32m'T: + 4 9 ( 0 )40123'[39m ]
DEBUG consumeNameHeuristic: Set data.fn to "Ghost Spacer"
DEBUG FINAL data.fn: "Ghost Spacer"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_role_bottom
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Die Firma GmbH
      MusterstraÃŸe 1
      12345 Berlin
      
      Vertreten durch den GeschÃ¤ftsfÃ¼hrer:
      Hans Guckindieluft
    
Lines: [
  [32m'Die Firma GmbH'[39m,
  [32m'MusterstraÃŸe 1'[39m,
  [32m'12345 Berlin'[39m,
  [32m'Vertreten durch den GeschÃ¤ftsfÃ¼hrer:'[39m,
  [32m'Hans Guckindieluft'[39m
]
DEBUG FINAL data.fn: "Hans Guckindieluft"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_multi_role
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Mega Corp AG
      Vorstand: Dr. Boss (Vorsitz), Max Knecht (Stellv.)
      Aufsichtsrat: Lisa Wichtig
    
Lines: [
  [32m'Mega Corp AG'[39m,
  [32m'Vorstand: Dr. Boss (Vorsitz), Max Knecht (Stellv.)'[39m,
  [32m'Aufsichtsrat: Lisa Wichtig'[39m
]
DEBUG FINAL data.fn: "Dr. Boss"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_multi_role_academic
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Prof. Dr. Dr. h.c. mult. Max Mustermann
      Vorstandsvorsitzender & CEO
      UniversitÃ¤t Musterstadt
      
Lines: [
  [32m'Prof. Dr. Dr. h.c. mult. Max Mustermann'[39m,
  [32m'Vorstandsvorsitzender & CEO'[39m,
  [32m'UniversitÃ¤t Musterstadt'[39m
]
DEBUG FINAL data.fn: "Prof. Dr. Dr. h.c. mult. Max Mustermann"

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_multi_role_academic
[22m[39mDEBUG consumeName: {
  line: [32m'Prof. Dr. Dr. h.c. mult. Max Mustermann'[39m,
  match: [32m'Prof. Dr. Dr. h.c. mult. Max'[39m
}

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_mixed_formats_doctor
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Dr. Med. Hans Wurst
      Tel. +49 (0) 30 / 123 45 - 67
      Fax: 030 123 45 68
      Mobile: 0171-1234567
      
Lines: [
  [32m'Dr. Med. Hans Wurst'[39m,
  [32m'Tel. +49 (0) 30 / 123 45 - 67'[39m,
  [32m'Fax: 030 123 45 68'[39m,
  [32m'Mobile: 0171-1234567'[39m
]
DEBUG FINAL data.fn: "Dr. Med. Hans Wurst"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_anchor_match
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Hafenarbeiter GmbH
      20457 Hamburg
      Tel: 040 999 888
    
Lines: [ [32m'Hafenarbeiter GmbH'[39m, [32m'20457 Hamburg'[39m, [32m'Tel: 040 999 888'[39m ]
DEBUG FINAL data.fn: ""

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_anchor_mismatch
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Remote Worker
      10115 Berlin
      Tel: 089 / 123 456 (Zentrale MÃ¼nchen)
    
Lines: [
  [32m'Remote Worker'[39m,
  [32m'10115 Berlin'[39m,
  [32m'Tel: 089 / 123 456 (Zentrale MÃ¼nchen)'[39m
]
DEBUG consumeNameHeuristic: Set data.fn to "Remote Worker"
DEBUG FINAL data.fn: "Remote Worker"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_address_weird
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Firma GmbH
      Hinterhof 2. OG, Aufgang B
      Musterweg 7 a
      D-12345 Musterstadt
      
Lines: [
  [32m'Firma GmbH'[39m,
  [32m'Hinterhof 2. OG, Aufgang B'[39m,
  [32m'Musterweg 7 a'[39m,
  [32m'D-12345 Musterstadt'[39m
]
DEBUG FINAL data.fn: ""
DEBUG Test Failure syn_address_weird: Expected ADR "Musterweg 7a, 12345 Musterstadt" not found in []

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_address_weird
[22m[39mUnknown phone prefix for number: 012345. Assuming Landline.

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_inline_address
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Besuchen Sie uns in der HauptstraÃŸe 5, 50667 KÃ¶ln zu unseren Ã–ffnungszeiten.
      Ihr Team von KÃ¶lle Alaaf.
    
Lines: [
  [32m'Besuchen Sie uns in der HauptstraÃŸe 5, 50667 KÃ¶ln zu unseren Ã–ffnungszeiten.'[39m,
  [32m'Ihr Team von KÃ¶lle Alaaf.'[39m
]
DEBUG FINAL data.fn: ""

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_mobile_check_hard
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Daniel Roaming
      Festnetz: 0151 / 123 456 78
      (Erreichbar nur mobil)
    
Lines: [
  [32m'Daniel Roaming'[39m,
  [32m'Festnetz: 0151 / 123 456 78'[39m,
  [32m'(Erreichbar nur mobil)'[39m
]
DEBUG FINAL data.fn: "Daniel Roaming"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_fake_mobile
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Fritz Festnetz
      Tel: 030 / 157 157
    
Lines: [ [32m'Fritz Festnetz'[39m, [32m'Tel: 030 / 157 157'[39m ]
DEBUG consumeNameHeuristic: Set data.fn to "Fritz Festnetz"
DEBUG FINAL data.fn: "Fritz Festnetz"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_no_name_service
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Info Service GmbH
      Kontaktieren Sie uns:
      info@service.de
      0800 123456
      
Lines: [
  [32m'Info Service GmbH'[39m,
  [32m'Kontaktieren Sie uns:'[39m,
  [32m'info@service.de'[39m,
  [32m'0800 123456'[39m
]
DEBUG consumeNameHeuristic: Set data.fn to "Kontaktieren Sie uns:"
DEBUG FINAL data.fn: "Kontaktieren Sie uns:"

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_no_name_service
[22m[39mUnknown phone prefix for number: 0800123456. Assuming Landline.

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_no_labels
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Minimalist
      0176 12345678
      030 98765432
    
Lines: [ [32m'Minimalist'[39m, [32m'0176 12345678'[39m, [32m'030 98765432'[39m ]
DEBUG FINAL data.fn: ""

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_url_typo
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Typo GmbH
      Mail: info@typo-gmbh.de
      Web: www,typo-gmbh,de
    
Lines: [ [32m'Typo GmbH'[39m, [32m'Mail: info@typo-gmbh.de'[39m, [32m'Web: www,typo-gmbh,de'[39m ]
DEBUG FINAL data.fn: "Web: www"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_legal_disclaimer
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Max Mustermann
      CEO
      max@company.com
      
      This email is confidential. If you are not the intended recipient, please delete it.
      GeschÃ¤ftsfÃ¼hrer: Max Mustermann
      Amtsgericht Berlin HRB 12345
      
Lines: [
  [32m'Max Mustermann'[39m,
  [32m'CEO'[39m,
  [32m'max@company.com'[39m,
  [32m'This email is confidential. If you are not the intended recipient, please delete it.'[39m,
  [32m'GeschÃ¤ftsfÃ¼hrer: Max Mustermann'[39m,
  [32m'Amtsgericht Berlin HRB 12345'[39m
]
DEBUG FINAL data.fn: "Max Mustermann"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_email_spaced
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Anti Bot
      E-Mail: kontakt [at] anti-bot . com
    
Lines: [ [32m'Anti Bot'[39m, [32m'E-Mail: kontakt [at] anti-bot . com'[39m ]
DEBUG consumeNameHeuristic: Set data.fn to "Anti Bot"
DEBUG FINAL data.fn: "Anti Bot"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_no_http
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Modern Startup
      visit us at modern-startup.io
    
Lines: [ [32m'Modern Startup'[39m, [32m'visit us at modern-startup.io'[39m ]
DEBUG FINAL data.fn: ""

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_swiss_format
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      GrÃ¼ezi AG
      ZÃ¼richstrasse 1
      CH-8000 ZÃ¼rich
      Tel +41 44 123 45 67
      Natel +41 79 987 65 43
    
Lines: [
  [32m'GrÃ¼ezi AG'[39m,
  [32m'ZÃ¼richstrasse 1'[39m,
  [32m'CH-8000 ZÃ¼rich'[39m,
  [32m'Tel +41 44 123 45 67'[39m,
  [32m'Natel +41 79 987 65 43'[39m
]
DEBUG FINAL data.fn: ""

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_austria_format
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Servus GmbH
      Wienzeile 5, A-1010 Wien
      T: +43 (0) 1 / 234 56 78
    
Lines: [
  [32m'Servus GmbH'[39m,
  [32m'Wienzeile 5, A-1010 Wien'[39m,
  [32m'T: +43 (0) 1 / 234 56 78'[39m
]
DEBUG FINAL data.fn: ""
DEBUG Test Failure synth_austria_format: Expected ADR "Wienzeile 5, 1010 Wien, Ã–sterreich" not found in []

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_austria_format
[22m[39mUnknown phone prefix for number: 01010. Assuming Landline.

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle syn_international_us
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      John Doe
      123 Main St
      New York, NY 10001
      USA
      Phone: +1 212 555 1234
      
Lines: [
  [32m'John Doe'[39m,
  [32m'123 Main St'[39m,
  [32m'New York, NY 10001'[39m,
  [32m'USA'[39m,
  [32m'Phone: +1 212 555 1234'[39m
]
DEBUG FINAL data.fn: "John Doe"
DEBUG Test Failure syn_international_us: Expected ADR "123 Main St, New York" not found in []

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_impressum_nested
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Herausgeber:
      Medienhaus Nord
      Ein Unternehmen der Nord-Gruppe
      
      Anschrift:
      NordstraÃŸe 1
      20095 Hamburg
      
      GeschÃ¤ftsfÃ¼hrung:
      Susi Sorglos, Peter Pan
      
      Kontakt Redaktion:
      Tel: 040-11111 (Durchwahl -20)
      Fax: 040-11111-99
      redaktion@nord.de
    
Lines: [
  [32m'Herausgeber:'[39m,
  [32m'Medienhaus Nord'[39m,
  [32m'Ein Unternehmen der Nord-Gruppe'[39m,
  [32m'Anschrift:'[39m,
  [32m'NordstraÃŸe 1'[39m,
  [32m'20095 Hamburg'[39m,
  [32m'GeschÃ¤ftsfÃ¼hrung:'[39m,
  [32m'Susi Sorglos, Peter Pan'[39m,
  [32m'Kontakt Redaktion:'[39m,
  [32m'Tel: 040-11111 (Durchwahl -20)'[39m,
  [32m'Fax: 040-11111-99'[39m,
  [32m'redaktion@nord.de'[39m
]
DEBUG FINAL data.fn: "Peter Pan"

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_opening_hours_trap
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Friseur Salon Schnittig
      Termine unter: 040 123 456
      Ã–ffnungszeiten:
      Mo - Fr: 09:00 - 18:00
      Sa: 10:00 - 14:00
    
Lines: [
  [32m'Friseur Salon Schnittig'[39m,
  [32m'Termine unter: 040 123 456'[39m,
  [32m'Ã–ffnungszeiten:'[39m,
  [32m'Mo - Fr: 09:00 - 18:00'[39m,
  [32m'Sa: 10:00 - 14:00'[39m
]
DEBUG FINAL data.fn: ""

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_iban_trap
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Zahlung bitte an:
      Max Mustermann
      IBAN: DE 89 3705 0198 1234 5678 00
      BIC: COBA DE FF XXX
      Tel bei RÃ¼ckfragen: 0171 111 222 3
    
Lines: [
  [32m'Zahlung bitte an:'[39m,
  [32m'Max Mustermann'[39m,
  [32m'IBAN: DE 89 3705 0198 1234 5678 00'[39m,
  [32m'BIC: COBA DE FF XXX'[39m,
  [32m'Tel bei RÃ¼ckfragen: 0171 111 222 3'[39m
]
DEBUG FINAL data.fn: "Max Mustermann"

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_iban_trap
[22m[39mUnknown phone prefix for number: 01234. Assuming Landline.
Unknown phone prefix for number: 0567800. Assuming Landline.
DEBUG consumeName: { line: [32m'Max Mustermann'[39m, match: [32m'Max'[39m }

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_date_trap
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Event-Planung
      Wir rufen zurÃ¼ck am 10 10 2025 um 14 00 Uhr.
      Hotline: 0800 555 666
    
Lines: [
  [32m'Event-Planung'[39m,
  [32m'Wir rufen zurÃ¼ck am 10 10 2025 um 14 00 Uhr.'[39m,
  [32m'Hotline: 0800 555 666'[39m
]
DEBUG FINAL data.fn: ""

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_date_trap
[22m[39mUnknown phone prefix for number: 010102025. Assuming Landline.
Unknown phone prefix for number: 01400. Assuming Landline.
Unknown phone prefix for number: 0800555666. Assuming Landline.

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_noble_names
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Prof. Dr. Hans-Georg von der Wiese
      Schlossallee 1
      MÃ¼nchen
    
Lines: [ [32m'Prof. Dr. Hans-Georg von der Wiese'[39m, [32m'Schlossallee 1'[39m, [32m'MÃ¼nchen'[39m ]
DEBUG consumeAddress Fallback: Street="Schlossallee 1", Next="MÃ¼nchen", isCity=true
DEBUG isName: "Prof. Dr. Hans-Georg von der Wiese" -> result=true, cap=4, validWords=true, hasSpace=true, noDigit=true
DEBUG consumeNameHeuristic: Set data.fn to "Prof. Dr. Hans-Georg von der Wiese"
DEBUG FINAL data.fn: "Prof. Dr. Hans-Georg von der Wiese"
DEBUG Test Failure synth_noble_names: Expected ADR "Schlossallee 1, MÃ¼nchen" not found in []

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_postbox_co
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Geheimagentur GmbH
      c/o Briefkasten-Firma
      Postfach 12 34
      10115 Berlin
    
Lines: [
  [32m'Geheimagentur GmbH'[39m,
  [32m'c/o Briefkasten-Firma'[39m,
  [32m'Postfach 12 34'[39m,
  [32m'10115 Berlin'[39m
]
DEBUG consumeNameHeuristic: Set data.fn to "c/o Briefkasten-Firma"
DEBUG FINAL data.fn: "c/o Briefkasten-Firma"
DEBUG Test Failure synth_postbox_co: Expected ADR "Postfach 12 34, 10115 Berlin" not found in [
  {
    "type": "WORK",
    "value": {
      "street": "",
      "city": "Berlin",
      "region": "",
      "zip": "10115",
      "country": "Deutschland"
    }
  }
]

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_postbox_co
[22m[39mUnknown phone prefix for number: 01234. Assuming Landline.

[90mstdout[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_service_numbers
[22m[39m--- PARSER DEBUG ---
Clean Text:
 
      Support Hotline
      Kostenlos: 0800 / 123 456 7
      Premium: 0900 - 666 666 (1,99â‚¬/Min)
      Service: 01805 . 123 123
    
Lines: [
  [32m'Support Hotline'[39m,
  [32m'Kostenlos: 0800 / 123 456 7'[39m,
  [32m'Premium: 0900 - 666 666 (1,99â‚¬/Min)'[39m,
  [32m'Service: 01805 . 123 123'[39m
]
DEBUG FINAL data.fn: ""

[90mstderr[2m | utils/edgeCases.test.ts[2m > [22m[2mSynthetic Edge Cases[2m > [22m[2mshould handle synth_service_numbers
[22m[39mUnknown phone prefix for number: 08001234567. Assuming Landline.
Unknown phone prefix for number: 0900666666. Assuming Landline.
Unknown phone prefix for number: 01805123123. Assuming Landline.

 [31mâ¯[39m utils/edgeCases.test.ts [2m([22m[2m37 tests[22m[2m | [22m[31m11 failed[39m[2m)[22m[32m 26[2mms[22m[39m
     [32mâœ“[39m should handle synth_format_dots[32m 7[2mms[22m[39m
[31m     [31mÃ—[31m should handle synth_format_slashes_mixed[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should handle synth_sticky_text[39m[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_pipe_separator[32m 3[2mms[22m[39m
     [32mâœ“[39m should handle syn_sticky_text_v2[32m 1[2mms[22m[39m
[31m     [31mÃ—[31m should handle syn_newlines_mess[39m[32m 1[2mms[22m[39m
     [32mâœ“[39m should handle synth_ocr_l_for_1[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_ocr_o_for_0[32m 0[2mms[22m[39m
[31m     [31mÃ—[31m should handle syn_ocr_errors_v2[39m[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle syn_typo_labels[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_ocr_spaces_in_numbers[32m 0[2mms[22m[39m
[31m     [31mÃ—[31m should handle synth_role_bottom[39m[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_multi_role[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle syn_multi_role_academic[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle syn_mixed_formats_doctor[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_anchor_match[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_anchor_mismatch[32m 0[2mms[22m[39m
[31m     [31mÃ—[31m should handle syn_address_weird[39m[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_inline_address[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_mobile_check_hard[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_fake_mobile[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle syn_no_name_service[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_no_labels[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_url_typo[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle syn_legal_disclaimer[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_email_spaced[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_no_http[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_swiss_format[32m 0[2mms[22m[39m
[31m     [31mÃ—[31m should handle synth_austria_format[39m[32m 0[2mms[22m[39m
[31m     [31mÃ—[31m should handle syn_international_us[39m[32m 1[2mms[22m[39m
[31m     [31mÃ—[31m should handle synth_impressum_nested[39m[32m 1[2mms[22m[39m
     [32mâœ“[39m should handle synth_opening_hours_trap[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_iban_trap[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_date_trap[32m 0[2mms[22m[39m
[31m     [31mÃ—[31m should handle synth_noble_names[39m[32m 0[2mms[22m[39m
[31m     [31mÃ—[31m should handle synth_postbox_co[39m[32m 0[2mms[22m[39m
     [32mâœ“[39m should handle synth_service_numbers[32m 0[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 11 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle synth_format_slashes_mixed
[31m[1mAssertionError[22m: expected 'Slashy Mc Slashface' to be 'Slashy McSlashface' // Object.is equality[39m

Expected: [32m"Slashy McSlashface"[39m
Received: [31m"Slashy Mc[7m [27mSlashface"[39m

[36m [2mâ¯[22m utils/edgeCases.test.ts:[2m16:33[22m[39m
    [90m 14| [39m
    [90m 15| [39m            [35mif[39m (expected[33m.[39mfn) {
    [90m 16| [39m                [34mexpect[39m(data[33m.[39mfn)[33m.[39m[34mtoBe[39m(expected[33m.[39mfn)[33m;[39m
    [90m   | [39m                                [31m^[39m
    [90m 17| [39m            }
    [90m 18| [39m            [35mif[39m (expected[33m.[39morg) {

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/11]â¯[22m[39m

[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle synth_sticky_text
[31m[1mAssertionError[22m: expected 'Kein Platz GmbH' to be 'KeinPlatz GmbH' // Object.is equality[39m

Expected: [32m"KeinPlatz GmbH"[39m
Received: [31m"Kein[7m [27mPlatz GmbH"[39m

[36m [2mâ¯[22m utils/edgeCases.test.ts:[2m19:34[22m[39m
    [90m 17| [39m            }
    [90m 18| [39m            [35mif[39m (expected[33m.[39morg) {
    [90m 19| [39m                [34mexpect[39m(data[33m.[39morg)[33m.[39m[34mtoBe[39m(expected[33m.[39morg)[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m 20| [39m            }
    [90m 21| [39m            [35mif[39m (expected[33m.[39mtitle) {

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/11]â¯[22m[39m

[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle syn_newlines_mess
[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle syn_address_weird
[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle synth_austria_format
[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle syn_international_us
[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle synth_noble_names
[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle synth_postbox_co
[31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

[36m [2mâ¯[22m utils/edgeCases.test.ts:[2m76:31[22m[39m
    [90m 74| [39m                    console.log(`DEBUG Test Failure ${testCase.id}: Exâ€¦
    [90m 75| [39m                }
    [90m 76| [39m                [34mexpect[39m(found)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 77| [39m            }
    [90m 78| [39m        })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/11]â¯[22m[39m

[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle syn_ocr_errors_v2
[31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

[36m [2mâ¯[22m utils/edgeCases.test.ts:[2m50:74[22m[39m
    [90m 48| [39m            }
    [90m 49| [39m            [35mif[39m (expected[33m.[39memail) {
    [90m 50| [39m                expect(data.email.some(e => e.value === expected.emailâ€¦
    [90m   | [39m                                                                         [31m^[39m
    [90m 51| [39m            }
    [90m 52| [39m            [35mif[39m (expected[33m.[39murl) {

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/11]â¯[22m[39m

[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle synth_role_bottom
[31m[1mAssertionError[22m: expected 'Vertreten durch den GeschÃ¤ftsfÃ¼hrer' to be 'GeschÃ¤ftsfÃ¼hrer' // Object.is equality[39m

Expected: [32m"GeschÃ¤ftsfÃ¼hrer"[39m
Received: [31m"[7mVertreten durch den [27mGeschÃ¤ftsfÃ¼hrer"[39m

[36m [2mâ¯[22m utils/edgeCases.test.ts:[2m22:36[22m[39m
    [90m 20| [39m            }
    [90m 21| [39m            [35mif[39m (expected[33m.[39mtitle) {
    [90m 22| [39m                [34mexpect[39m(data[33m.[39mtitle)[33m.[39m[34mtoBe[39m(expected[33m.[39mtitle)[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m 23| [39m            }
    [90m 24| [39m            [35mif[39m (expected[33m.[39mtel) {

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/11]â¯[22m[39m

[41m[1m FAIL [22m[49m utils/edgeCases.test.ts[2m > [22mSynthetic Edge Cases[2m > [22mshould handle synth_impressum_nested
[31m[1mAssertionError[22m: expected 'Peter Pan' to be 'Susi Sorglos' // Object.is equality[39m

Expected: [32m"Susi Sorglos"[39m
Received: [31m"Peter Pan"[39m

[36m [2mâ¯[22m utils/edgeCases.test.ts:[2m16:33[22m[39m
    [90m 14| [39m
    [90m 15| [39m            [35mif[39m (expected[33m.[39mfn) {
    [90m 16| [39m                [34mexpect[39m(data[33m.[39mfn)[33m.[39m[34mtoBe[39m(expected[33m.[39mfn)[33m;[39m
    [90m   | [39m                                [31m^[39m
    [90m 17| [39m            }
    [90m 18| [39m            [35mif[39m (expected[33m.[39morg) {

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/11]â¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m11 failed[39m[22m[2m | [22m[1m[32m26 passed[39m[22m[90m (37)[39m
[2m   Start at [22m 13:57:08
[2m   Duration [22m 393ms[2m (transform 114ms, setup 32ms, import 136ms, tests 26ms, environment 142ms)[22m

